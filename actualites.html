<script>
  async function chargerArticles() {
    const container = document.getElementById("news-list");
    container.innerHTML = "<p>Chargement...</p>";

    try {
      const reponse = await fetch("https://portail-iota.vercel.app/api/news?q=algérie");
      const donnees = await reponse.json();
      
      if (!donnees.articles || donnees.articles.length === 0) {
        throw new Error("Aucun article trouvé");
      }

      container.innerHTML = donnees.articles.map(article => `
        <div class="border p-4 rounded shadow hover:shadow-md transition">
          <h3 class="font-semibold text-lg mb-1">
            <a href="${article.url}" target="_blank" class="text-green-700 hover:underline">
              ${article.title}
            </a>
          </h3>
          <p class="text-gray-700 text-sm">${article.description || ""}</p>
        </div>
      `).join("");
      
    } catch (erreur) {
      container.innerHTML = `
        <p class="text-red-600">Erreur : actualités non disponibles.</p>
        <button onclick="chargerArticles()" class="mt-2 px-3 py-1 bg-gray-100 rounded">
          Réessayer
        </button>
      `;
      console.error("Erreur:", erreur);
    }
  }
  chargerArticles();
</script>
